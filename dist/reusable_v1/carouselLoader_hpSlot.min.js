function renderContent(e){var t=amp.inlineContent(e)[0];for(SLData=t,t.carouselslot.slides.length>dfs.HPSlider.maxSlides&&(t.carouselslot.slides.length=dfs.HPSlider.maxSlides),t.carouselslot.spec={roi:dfs.HPSlider.isROI,testDate:""},s=0;s<t.carouselslot.slides.length;s++)if(t.carouselslot.slides[s].priceLabel){var n=t.carouselslot.slides[s].priceLabel[1].split(";");for(n.length>1&&(t.carouselslot.slides[s].priceLabel[1]=t.carouselslot.spec.roi?n[1]:n[0]),x=2;x<5;x++){var i=t.carouselslot.slides[s].priceLabel[x].split(";");i.length>1&&(t.carouselslot.slides[s].priceLabel[x]=t.carouselslot.spec.roi?i[0].split("£")[0]+i[1]:i[0])}var r=Number(t.carouselslot.slides[s].priceLabel[1].replace(/[^\d.-]/g,""));t.carouselslot.spec.roi?t.carouselslot.slides[s].priceLabel[7]="€"+(r/36).toFixed(3).toString().slice(0,-1)+" a month for 3 years":t.carouselslot.slides[s].priceLabel[7]="£"+(r/48).toFixed(3).toString().slice(0,-1)+" a month for 4 years",t.carouselslot.slides[s].priceLabel&&t.carouselslot.slides[s].priceLabel[7]&&(t.carouselslot.slides[s].financeArray=t.carouselslot.slides[s].priceLabel[7].split(" a month "),t.carouselslot.slides[s].financeArray.push("a month")),t.carouselslot.slides[s].priceLabel&&t.carouselslot.slides[s].priceLabel[6]?t.carouselslot.slides[s].priceLabelTop=t.carouselslot.slides[s].priceLabel[6].split(";"):t.carouselslot.slides[s].priceLabelTop=["0","0","0"]}t&&renderCarousel(t)}function renderCarousel(e){var t=Handlebars.template(AmpCa.templates[dfs.HPSlider.template]);document.querySelectorAll(".js_banner_wrap")[0].innerHTML=t(e)}function showErrorMessage(e){console.log("Delivery API Request Failure",e),$(document.body).append('<div class="error">An error occurred retrieving your content.<br/><br/>Please ensure that it is published.<br/><br/>Details of the error have been saved to the browser console.</div>')}if(function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var s in t)if(void 0!==e.style[s])return{end:t[s]};return!1}e.fn.emulateTransitionEnd=function(t){var s=!1,n=this;e(this).one("bsTransitionEnd",function(){s=!0});var i=function(){s||e(n).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||t[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.carousel"),r=e.extend({},s.DEFAULTS,n.data(),"object"==typeof t&&t),a="string"==typeof t?t:r.slide;i||n.data("bs.carousel",i=new s(this,r)),"number"==typeof t?i.to(t):a?i[a]():r.interval&&i.pause().cycle()})}var s=function(t,s){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=s,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};s.VERSION="3.3.7",s.TRANSITION_DURATION=600,s.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},s.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},s.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},s.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},s.prototype.getItemForDirection=function(e,t){var s=this.getItemIndex(t);if(("prev"==e&&0===s||"next"==e&&s==this.$items.length-1)&&!this.options.wrap)return t;var n="prev"==e?-1:1,i=(s+n)%this.$items.length;return this.$items.eq(i)},s.prototype.to=function(e){var t=this,s=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):s==e?this.pause().cycle():this.slide(e>s?"next":"prev",this.$items.eq(e))},s.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},s.prototype.next=function(){if(!this.sliding)return this.slide("next")},s.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},s.prototype.slide=function(t,n){var i=this.$element.find(".item.active"),r=n||this.getItemForDirection(t,i),a=this.interval,o="next"==t?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],d=e.Event("slide.bs.carousel",{relatedTarget:c,direction:o});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=e(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var h=e.Event("slid.bs.carousel",{relatedTarget:c,direction:o});return e.support.transition&&this.$element.hasClass("slide")?(r.addClass(t),r[0].offsetWidth,i.addClass(o),r.addClass(o),i.one("bsTransitionEnd",function(){r.removeClass([t,o].join(" ")).addClass("active"),i.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(s.TRANSITION_DURATION)):(i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var n=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=s,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this};var i=function(s){var n,i=e(this),r=e(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""));if(r.hasClass("carousel")){var a=e.extend({},r.data(),i.data()),o=i.attr("data-slide-to");o&&(a.interval=!1),t.call(r,a),o&&r.data("bs.carousel").to(o),s.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",i).on("click.bs.carousel.data-api","[data-slide-to]",i),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var s=e(this);t.call(s,s.data())})})}(jQuery),!dfs)var dfs={};dfs.HPSlider={visualID:$(".js_banner_wrap").data("slotid"),isROI:$(".js_banner_wrap").data("roi"),maxSlides:$(".js_banner_wrap").data("maxslides")||5,template:$(".js_banner_wrap").data("template")};var cacheBuster=Math.random().toString(36).substr(2,12),dfsSliderID=dfs.HPSlider.visualID;console.log("Fetching: contentID:",dfsSliderID);var masterDeliveryUrl='//c1.adis.ws/cms/content/query?fullBodyObject=true&query=%7B"sys.iri"%3A"http%3A%2F%2Fcontent.cms.amplience.com%2F'+dfsSliderID+'"%7D&scope=tree&store=dfs&cacheBuster='+cacheBuster;if($.ajax({url:masterDeliveryUrl}).done(function(e){renderContent(e)}).fail(function(){console.log("Failed To Get Master ID Data"),showErrorMessage()}).always(function(){console.log("Carousel Loaded: ",dfsSliderID)}),!dfs)var dfs={};dfs.countdownv2={timerID:[],isMobile:function(){return window.location.origin.indexOf("https://m.")>-1},init:function(){document.getElementsByClassName("countdown_v2").length&&this.addCountdown()},convertDate:function(e){var t=e.split(" "),s=t[0].split("/"),n=s[1]+"/"+s[0]+"/"+s[2];return void 0!=t[1]&&(n+=" "+t[1]),new Date(n)},updateTestDate:function(e){var t=new Date;return e.setHours(t.getHours()),e.setMinutes(t.getMinutes()),e.setSeconds(t.getSeconds()),e},timeRemaining:function(e,t){if(t instanceof Date){t=dfs.countdownv2.updateTestDate(t);var s=new Date(t)}else var s=new Date;var n=Date.parse(e)-s,i=Math.floor(n/1e3%60),r=Math.floor(n/1e3/60%60),a=Math.floor(n/36e5%24);return{total:n,days:Math.floor(n/864e5),hours:a,minutes:r,seconds:i}},checkDateRange:function(e,t,s){var n=Date.parse(e),i=Date.parse(t);if(s instanceof Date){s=dfs.countdownv2.updateTestDate(s);var r=Date.parse(new Date(s))}else var r=Date.parse(new Date);return r>n&&r<i},addCountdown:function(){$("div.countdown_v2").each(function(e,t){var s=this,n=[],i=[],r=[],a=$(s).data();if(r[e]=a.hidefinalmessage,n[e]=a.deadline,i[e]=a.startdays,a.testdate)var o=dfs.countdownv2.convertDate(a.testdate);else var o="";dfs.countdownv2.timerID[e]=setInterval(function(){for(var t in a)if(t.indexOf("daterange")>-1&&""!==a[t]){var l=a[t].split(","),c=dfs.countdownv2.convertDate(l[0].trim()),d=dfs.countdownv2.convertDate(l[1].trim());d.setHours(23,59,59);var u=l[2].trim(),h=l[3].trim();dfs.countdownv2.checkDateRange(c,d,o)&&($(s).children("h6.cdHeader").html(u),$(s).children("h6.cdFooter").html(h))}var p=dfs.countdownv2.convertDate(n[e]),f=dfs.countdownv2.timeRemaining(p,o);if(i[e]>=f.days){var v='<p><span class="cdDays">'+f.days+'</span> Days</p><p><span class="cdHours">'+f.hours+'</span> Hours</p><p><span class="cdMinutes">'+f.minutes+'</span> Minutes</p><p><span class="seconds">'+f.seconds+'</span> Seconds</p><div class="clearfix"></div>';f.days<0&&(dfs.countdownv2.stopTimer(e),$(s).css("display","none")),$(s).children("section").html(v),0!=f.days||dfs.countdownv2.isMobile()||r[e]||$(s).next("div").css("display","block")}else $(s).children("section").html("")},1e3)})},stopTimer:function(e){clearInterval(this.timerID[e])},previewDate:function(e){$(".countdown_v2").each(function(t){$(this).data().testdate=e,console.log("TimerID:"+t,"Showing new date: "+e),clearInterval(dfs.countdownv2.timerID[t])}),this.init()}},dfs.updateElement=function(){$("#hpCarousel").length&&($("#hpCarousel").carousel({interval:6e3}),$("#hpCarousel").carousel("pause"),clearInterval(PollElement),console.log("Carousel Ready and Initiated : "+PollElement),dfs.countdownv2.init(),function(e){var t=null;e(".carousel").each(function(){var s=e(this);e(this).on("touchstart",function(e){var s=e.originalEvent;1==s.touches.length&&(t=s.touches[0].pageX)}).on("touchmove",function(e){var n=e.originalEvent;if(null!=t){var i=n.changedTouches[0].pageX;i-t>60?(t=null,s.carousel("prev")):t-i>60&&(t=null,s.carousel("next"))}}).on("touchend",function(){t=null})})}(jQuery))};var PollElement=setInterval(dfs.updateElement,500);Handlebars.registerHelper("math",function(e,t,s,n){return e=parseFloat(e),s=parseFloat(s),{"+":e+s,"-":e-s,"*":e*s,"/":e/s,"%":e%s}[t]}),Handlebars.registerHelper("finance",function(e,t){var s=e.match(/([1-9])+/g);return"UK"===t?"&pound;"+Math.floor(100*parseFloat(s[0]/48))/100+" a month for 4 years":"&euro;"+Math.floor(100*parseFloat(s[0]/36))/100+" a month for 3 years"}),Handlebars.registerHelper("csv",function(e,t){var s=e.split(",");return"M"===t?void 0!==s[1]&&0!=s[1]?s[1]:void 0!==s[0]&&0!=s[0]?s[0]:"000000":"D"===t&&void 0!==s[0]&&0!=s[0]?s[0]:"000000"});